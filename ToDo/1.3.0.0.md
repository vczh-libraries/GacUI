# 1.3.0.0

## Fixed

- `DocumentModel::SaveToXml` double space characters.
- `IGuiGraphicsParagraph` rendering and caret calculation bugs on GDI.
- `FakeDialogServiceBase` renders and selects wront files if filter applied.

## Breaking Changes

- Delete `GuiSinglelineTextBox` and `GuiMultilineTextBox`.
  - A new `GuiSinglelineTextBox` will be created, inheriting from `GuiDocumentLabel`.
  - A new `GuiMultilineTextBox` will be created, inheriting from `GuiDocumentViewer`.

## New Features

- Vlpp UnitTest supports /F:wildcard
- `GuiDocumentCommonInterface` sub classes accept `GuiDocumentConfig` to control document editing and rendering behavior.
- `GuiDocumentCommonInterface` offer `ConvertToPlainText` and `LoadTextAndClearUndoRedo`/`LoadDocumentAndClearUndoRedo`
- Add `PasswordChar` to `GuiDocumentCommonInterface`, set to `\0` to disable.

## Known Issues

- `GuiDocumentViewer`
    - Loading super large text into one single paragraph (~0.2M lines) too slow
      - Workaround: Change paragraph mode to multiline.
    - Demo: `https://github.com/vczh-libraries/GacUI/blob/master/Test/Resources/UnitTestSnapshots/Controls/Ribbon/  GuiRibbonButtons/Dropdowns.json`
    - **Paragraph mode** plus **doubleLineBreaksBetweenParagraph==true** plus **no empty line** causing the whole text   loaded into one single `IGuiGraphicsParagraph`.
    - This is the default configuration for `GuiDocumentViewer` and `GuiDocumentLabel`, it could be changed with the   `Behavior` property in XML.
    - Root cause in `IDWriteTextLayout::GetMetrics`, taking most of the time.
  - When loading super big content to the control while you don't need user to undo to the previous state:
    - To load such text into `GuiMultilineTextBox` uses `LoadTextAndClearUndoRedo`.
    - To load prepared large document into `GuiDocumentViewer` uses `LoadDocumentAndClearUndoRedo`.
    - Future editing still work with undo.
- GacUI_Controls/GlobalHotKey tutorial: pressing hot key doesn't work.
- GacUI_Controls/ProgressAndAsync tutorial: doesn't scroll to the top after downloading.

# TODO

## Copilot

- `kb-design.prompt.md`:
  - Clarify what should or should not be included in API Explanation or Design Insight.
  - Adding a new control
- `vgo -u`
  - By defauly only fetch master.
  - An option to fetch a specified branch, if it exists in remote.
  - An option to fetch every remote branches.

## Milestone

- Verify ubuntu builds.
- Document to markdown folder generator.
  - Exclude generated references.
  - Copy it to knowledge base, expand the whole folder tree in `Index.md`.
- Release current copilot prompts and helper files to Release repo.
  - vscode prompts only to avoid mentioning how to build and run unit test.
  - Use placeholder for repo and project name.
