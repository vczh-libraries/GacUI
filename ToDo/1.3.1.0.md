# 1.3.1.0

## Fixed Bugs:

- `GuiOpenFileDialog`/`GuiSaveFileDialog` does not apply default file extension to the file name before checking availability.
- GacUI Unit Test Framework stores logged UI frames in separated files to speed up `UnitTestSnapshotViewer` reaction.
- Global hot key not activated on a few keys

## Finished

- Remote Protocol unit test for text boxes
- Upgraded FindObjectByName to accept name chain

# TODO

## Known Issues

- `indexed(FromArray(xs))` crashes, because the enumerable created by `FromArray` is released before for-loop calling `begin`.
  - `indexed` takes a const reference might be the cause.
  - Consider making a version for right-value reference.
  - C++23 seems to extend the lifetime of the iterator object so that this will not crash. Confirm it.
- Before resizing the window, in CppTest when alt into the first ribbin group, it unexpectedly stops instead of going into a deeper level.

## Milestone

- Rewrite copilot-instructions.md first
- A helper to attach/execute/detach event for one time aubscription, and update UnitTestSnapshotViewer to use it.
- All control unit test (using DarkSkin)
  - Check if any text box feature is not tested (e.g. PasswordChar)
  - Test GuiFileDialog filter item that has multiple extensions at the same time, exactly like Win32 API.

## Copilot

- `copilot-instructions.md`
  - Only put most important things there
    - Princples.
    - Important primitive types.
    - Special wildcard and regex syntax and types.
    - Parsing XML and JSON.
  - Syntax, tool use, project file editing and other stuff are listed with titles
    - Content are in other files
    - For building, testing and debugging, split to multiple platforms.
     - Remove vscode tasks, everything will be by scripts.
     - Build and Test should only print that the result is in a log file, therefore it doesn't need to be mentioned in prompt files.
    - The goal is to make `prompts/X.prompt.md` platform independent.
  - Remove two vcxitems for knowledge base and task logs, only store files.
  - In each project there will be a file describing project relationships and how to run necessary projects for code generation.
    - This file has a fixed name but will not be touched by `copilotInit.ps1` therefore not in `Tools` repo.
    - This file will be the only different file. All other files can be build without knowing the target project.
    - Ignore Linux version for now.
- Update `AGENTS.md` accordingly.
- `kb-design.prompt.md`:
  - Clarify what should or should not be included in API Explanation or Design Insight.
- Besides learning in 0-scrum, also learn mybpreference in `kb-learning.prompt.md`, using all backed up files in `.github\Learnings`, and at the end delete all of them.
  - Write into extra instruction files referenced by KnowledgeBase.vcxitems
    - Universal rules of tools and API usage
    - My preference
    - Extra knowledges and experiences of the current project.
  - `kb-learning.prompt.md` will remove everything that is strongly tighted to the current scrum
- `6-refactor.prompt.md`, apply persisted learnings to the code of the current task.
  - Or embed it in 2/3/4/5, and can be triggered by compile/test error.
- Add more reformatting instruction in execution.prompt
  - Declare my header and cpp coding convention
  - Share compiling and testing between execution/verification/formatting/refactoring
